## v1.1.3 - Landing Page Mobile QOL Improvements ğŸ“±
**Release Date:** January 3, 2026
**Status:** Production Ready

### Overview

Polish update for the ritual landing page experience on mobile devices. Addresses visual timing issues, adds audio feedback, and improves dock interaction flow.

### âœ¨ New Features

#### **Image Preloading**
- Card images now preload before cascade animation starts
- Eliminates the "image flash" where cards were visible before animation
- 3-second timeout fallback prevents infinite loading on slow connections

#### **Audio Feedback System**
Four distinct sounds create an immersive ritual experience:

1. **Shuffle & Deal** (`shuffleanddeal.mp3`) - Plays when cards first cascade in (initial deal, face down)
2. **First Card Flip** (`flip.mp3`) - Plays when flipping the first card (top card, index 0)
3. **Spread Shuffle** (`shuffle.mp3`) - Plays during stacked â†’ spread layout transition
4. **Second/Third Card Flip** (`flip2.mp3`) - Plays when flipping cards at index 1 or 2 (except during spread transition)

**Technical Details:**
- Sounds play immediately on cascade (with autoplay fallback for restrictive browsers)
- Identical behavior across desktop and mobile
- Sound files sourced from [SoundDino.com](https://sounddino.com/en/effects/cards/) (royalty-free)
- Total size: ~130KB across 4 files
- Audio hook supports future mute toggle feature

#### **Dock Auto-Expand (Mobile)**
- Talk dock auto-expands 4s after card is centered and revealed
- Auto-collapses after another 4s
- Collapses immediately when user scrolls away or reveals new card
- Reduces friction in mobile interaction flow

### ğŸ“ New Files Created

```
lib/hooks/
â””â”€â”€ useCardSounds.ts          # Audio management hook

public/sounds/
â”œâ”€â”€ shuffleanddeal.mp3        # Initial card deal sound
â”œâ”€â”€ flip.mp3                  # First card flip sound
â”œâ”€â”€ flip2.mp3                 # Second/third card flip sound
â””â”€â”€ shuffle.mp3               # Stacked to spread transition sound
```

### ğŸ”§ Modified Files

| File | Changes |
|------|---------|
| `components/ritual/CardCascade.tsx` | Image preloading, shuffle sound trigger |
| `components/ritual/RitualCard.tsx` | Flip sound trigger, dock auto-expand |

### ğŸ“Š Timing Updates

| Feature | Timing | Notes |
|---------|--------|-------|
| Image preload timeout | 3000ms | Fallback if images slow to load |
| Shuffleanddeal sound | On cascade | Plays immediately (with autoplay fallback) |
| Flip sounds | On card click | Index 0: flip.mp3, Index 1-2: flip2.mp3 |
| Shuffle sound | On layout transition | Stacked â†’ spread only |
| Dock auto-expand | 4000ms | After card centered (mobile) |
| Dock auto-collapse | 4000ms | After expansion (mobile) |

### ğŸ”® Future Work (Completed)

**State Preservation via sessionStorage:**
âœ… Implemented in v1.1.4 (January 4, 2026)
- Save ritual state (3 card slugs, reveal indices, layout mode) to sessionStorage
- Restore on back navigation from card/talk detail pages
- Smart back button that returns to ritual instead of collection pages
- 30-minute expiry to prevent stale rituals

See v1.1.4 release notes above for implementation details.
